<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.gdu.petmall.dao.AutoLoginMapper">
   




	<!--자동로그인사용자 토큰정보 삽입-->
	<insert id="saveAutoLoginToken" parameterType="AutoLoginDto">
		INSERT INTO AUTO_LOGIN_T (
		TOKEN,
		LAST_ACCESS,
		EMAIL,
		PW,
		USER_NO
		)VALUES(
		#{token},
		TO_CHAR(SYSDATE,'YYYY-MM-DD_HH24:MI:SS'),
		#{email},
		#{pw},
		#{userNo}
		)
	</insert>


	<!--자동로그인 정보 조회-->
	<select id="getAutoLoginTokenInfo" parameterType="String" resultType="AutoLoginDto">
		SELECT EMAIL,PW,USER_NO,TOKEN,LAST_ACCESS
		FROM AUTO_LOGIN_T
		WHERE TOKEN=#{token}
	</select>
	
	
	<!--자동로그인 해제-->
	<delete id="deleteAutoLoginToken">
		DELETE FROM AUTO_LOGIN_T 
		WHERE EMAIL=#{email}
	</delete>
	
	


</mapper>